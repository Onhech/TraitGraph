# ~~~~~~~~~~~~~~~~~~~ #
# Vote-bar ####
# ~~~~~~~~~~~~~~~~~~~ #
# Simple vote bar chart with tie handling and footnotes.
if (!exists("find_project_root", inherits = TRUE)) {
find_project_root <- function(start_dir = getwd()) {
dir <- normalizePath(start_dir, winslash = "/", mustWork = FALSE)
repeat {
rproj <- file.path(dir, "TraitGraph.Rproj")
desc <- file.path(dir, "DESCRIPTION")
if (file.exists(rproj)) return(dir)
if (file.exists(desc)) {
d1 <- readLines(desc, n = 1, warn = FALSE)
if (length(d1) == 1 && grepl("^Package: TraitGraph", d1)) return(dir)
}
parent <- dirname(dir)
if (parent == dir) break
dir <- parent
}
stop("Could not find TraitGraph project root from: ", start_dir)
}
}
if (!exists("proj_root", inherits = TRUE)) {
proj_root <- find_project_root()
}
if (!exists("plots_dir", inherits = TRUE)) {
plots_dir <- file.path(proj_root, "ExamplePlots")
if (!dir.exists(plots_dir)) dir.create(plots_dir, recursive = TRUE)
}
vote_data <- read.csv(file.path(proj_root, "achievement_inputs", "group_dataset.csv"), stringsAsFactors = FALSE)
TG_vote_bar(
dataset = vote_data,
vote_column = "vote_q14",
palette = list(high = "#2F7D32", mid = "#E6F4E6", low = "#B3B3B3"),
palette_mode = "mid_high",
label_size_single = 7,
marker_font_family = "sans",
tie_markers = c("*", "†", "‡"),
footnote_color = "#2F7D32",
save_plot = TRUE,
show_plot = TRUE,
verbose = TRUE,
output_path = file.path(plots_dir, "vote_bar_example.jpg")
)
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
# Similarity       ####
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
similarity_columns <- c(
"HonestyHumility", "Emotionality", "Extroversion",
"Agreeableness", "Conscientiousness", "Openness"
)
# --- 1. Network Graph Example ---
network_plot <- TG_similarity_network(
dataset = sample_data[1:8, ],
title = NULL, subtitle = NULL,
show_title = FALSE,
use_initials = T,
connection_threshold = .35,
color_col = "favourite_color",
columns = similarity_columns,
#zoom_out_factor = 1.2,
name = "name",
save_plot = T,show_plot = T,
verbose = TRUE,
output_path = "ExamplePlots/similarity_network.png"
)
# --- 2. Heatmap Example ---
heatmap_plot <- TG_similarity_heatmap(
dataset = sample_data[1:8, ],
columns = similarity_columns,
name = "name",
save_plot = T,show_plot = T,
show_title = FALSE,
show_legend = F,
verbose = TRUE,
output_path = "ExamplePlots/similarity_network.png"
)
# --- 3. Heatmap Example ---
similarity_summary <- TG_similarity_table(
dataset = sample_data[1:8, ],
columns = similarity_columns,
name_col = "name",
format = "ranked_summary"
)
print(similarity_summary)
# ~~~~~~~~~~~~~~~~~~~ #
# Voting ####
# ~~~~~~~~~~~~~~~~~~~ #
TG_votes(
dataset = sample_data,
column_name = "rankedQ_1",
title = "1234 6789.",
show_title = FALSE,
save_plot = T,
output_path = 'ExamplePlots/voting_graph_example_10.jpg',title_size_mod = 1.6
)
# ~~~~~~~~~~~~~~~~~~~ #
# Profiles ####
# ~~~~~~~~~~~~~~~~~~~ #
# Uses achievement_inputs/trait_map.csv to demo per-trait gradients.
profile_traits <- read.csv(file.path(proj_root, "achievement_inputs", "trait_map.csv"), stringsAsFactors = FALSE)
profile_traits <- profile_traits[profile_traits$Type == "trait", ]
profile_traits$group_score <- round(runif(nrow(profile_traits), 15, 95))
profile_plot <- TG_profile(
dataset = profile_traits,
value_column = "group_score",
trait_column = "Name",
low_color_column = "Low_Color",
high_color_column = "High_Color",
title = "Group Psychological Profile",
show_title = FALSE,
save_plot = TRUE,
show_plot = T,
output_path = file.path(plots_dir, "profile_example.jpg")
)
TG_achievements(
trait_map_path = file.path(ach_inputs, "trait_map.csv"),
vote_map_path = file.path(ach_inputs, "vote_map.csv"),
data_path = file.path(ach_inputs, "group_dataset.csv"),
achievements_path = file.path(ach_inputs, "achievements.csv"),
voting_data_path = file.path(ach_inputs, "voting_data.csv"),
output_dir = ach_output,
max_awards = 10,
write_qa = F
)
TG_achievements(
trait_map_path = file.path(ach_inputs, "trait_map.csv"),
vote_map_path = file.path(ach_inputs, "vote_map.csv"),
data_path = file.path(ach_inputs, "group_dataset.csv"),
achievements_path = file.path(ach_inputs, "achievements.csv"),
voting_data_path = file.path(ach_inputs, "voting_data.csv"),
output_dir = ach_output,
max_awards = 10,
write_qa = F
)
source("~/Library/CloudStorage/GoogleDrive-lynden.jensen@gmail.com/My Drive/Work/PsychologyReports/Product/Reports/TraitGraph/Tester.R")
# --- Workflow C: Test GitHub Installation ---
# Use this to simulate a new user installing from your public repository.
# It's best to run this in a completely fresh R session.
# remove.packages("TraitGraph") # Ensure no local version is present
# remotes::install_github("Onhech/TraitGraph")
library(TraitGraph)
# --- 2. CREATE SAMPLE DATA ---
# Create one master sample data frame for testing.
set.seed(42) # for reproducibility
# Generate the main sample data
sample_data <- tibble::tibble(
name = c(  "Alice Frank Longnamer", "Bob Steward", "Frank Bobby", "Eve Twingle", "Grace Hunter", "Heidi Probosky", "Charlie Kane", "David Turner Salvadora III", "Ivan Evans", "Judy Perch", "Karl Moritz", "Lana Perez", "Mason Lee", "Nina Hollis", "Oscar Grant", "Paula White", "Quinn Baxter", "Riley Chen", "Sara Diaz", "Theo Nguyen", "Uma Patel", "Victor Stone", "Willow Adams", "Xavier Brooks", "Yara Cohen", "Zane Foster", "Abby Kim", "Ben Torres", "Clara Wells", "Derek Young"),
favourite_color = c( "#FF6B6B", "#4ECDC4", "#45B7D1", "#F7B801", "#FAD390","#FF8C61", "#3D5A80", "#98C1D9", "#9B59B6", "#293241","#E67E22", "#1ABC9C", "#E74C3C", "#3498DB", "#9B59B6","#F1C40F", "#2ECC71", "#16A085", "#D35400", "#C0392B","#7F8C8D", "#BDC3C7", "#8E44AD", "#27AE60", "#F39C12","#2980B9", "#C0392B", "#D35400", "#1ABC9C", "#9B59B6"),
HonestyHumility     = round(runif(30, 30, 95)),  # varied range per trait
Emotionality        = round(runif(30, 30, 90)),
Extroversion        = round(runif(30, 25, 95)),
Agreeableness       = round(runif(30, 40, 95)),
Conscientiousness   = round(runif(30, 35, 95)),
Openness            = round(runif(30, 40, 95)),
rankedQ_1 = sample(0:80, 30, replace = TRUE),
rsummedQ_1 = as.vector(rmultinom(n = 1, size = 100, prob = rep(1, 30)))
)
# Preview
sample_data<-dplyr::slice_sample(sample_data,n = 15) # Default (ideal) size
sample_data_5<-dplyr::slice_sample(sample_data,n = 5)
sample_data_15<-dplyr::slice_sample(sample_data,n = 15)
sample_data_20<-dplyr::slice_sample(sample_data,n = 20)
sample_data_25<-dplyr::slice_sample(sample_data,n = 25)
sample_data_30<-dplyr::slice_sample(sample_data,n = 30)
demo_paths <- c(
"ExamplePlots/demo_trait_1.jpg",
"ExamplePlots/demo_trait_2.jpg",
"ExamplePlots/demo_trait_3.jpg"
)
# --- Progress Demo (batch) ---
progress_demo <- TraitGraph:::tg_progress_bar(
total = length(demo_paths),
label = "Generating %d Demo Plots",
interval_secs = 0.5
)
for (i in seq_along(demo_paths)) {
TG_trait(
dataset = sample_data_20,
show_title = FALSE,
column_name = "Extroversion",
save_plot = TRUE,
show_plot = FALSE,
verbose = FALSE,
output_path = demo_paths[i]
)
progress_demo <- TraitGraph:::tg_progress_update(progress_demo)
}
TraitGraph:::tg_progress_done(progress_demo)
# --- 3. FUNCTION TESTING ---
# After running `devtools::load_all()`, you can run these calls to test.
# ~~~~~~~~~~~~~~~~~~~ #
# --- Trait Example   ####
# ~~~~~~~~~~~~~~~~~~~ #
TG_trait(
dataset = sample_data_20,
show_title = F,
column_name = "Extroversion",
random_seed = 12345,
save_plot = T,show_plot = T,
#color_opacity = .,
output_path = 'ExamplePlots/trait_graph_example.jpg'
)
# ~~~~~~~~~~~~~~~~~~~ #
# Achievements ####
# ~~~~~~~~~~~~~~~~~~~ #
ach_inputs <- file.path(proj_root, "achievement_inputs")
## --- 1. WORKFLOW HELPERS --------------------------------------------------------
# --- Workflow A: Full Rebuild and Install ---
# Use this workflow occasionally, especially before pushing to GitHub, to ensure
# the complete package builds correctly from start to finish.
if ("TraitGraph" %in% rownames(installed.packages())) {
remove.packages("TraitGraph")
}
# in terminal you can delete cache using
# % rm -rf /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/TraitGraph
devtools::clean_dll()
devtools::document()
devtools::load_all()
devtools::install(upgrade = 'always')           # Build and install the package locally
library(TraitGraph)            # Load the newly installed package
# --- 2. CREATE SAMPLE DATA ---
# Create one master sample data frame for testing.
set.seed(42) # for reproducibility
# Generate the main sample data
sample_data <- tibble::tibble(
name = c(  "Alice Frank Longnamer", "Bob Steward", "Frank Bobby", "Eve Twingle", "Grace Hunter", "Heidi Probosky", "Charlie Kane", "David Turner Salvadora III", "Ivan Evans", "Judy Perch", "Karl Moritz", "Lana Perez", "Mason Lee", "Nina Hollis", "Oscar Grant", "Paula White", "Quinn Baxter", "Riley Chen", "Sara Diaz", "Theo Nguyen", "Uma Patel", "Victor Stone", "Willow Adams", "Xavier Brooks", "Yara Cohen", "Zane Foster", "Abby Kim", "Ben Torres", "Clara Wells", "Derek Young"),
favourite_color = c( "#FF6B6B", "#4ECDC4", "#45B7D1", "#F7B801", "#FAD390","#FF8C61", "#3D5A80", "#98C1D9", "#9B59B6", "#293241","#E67E22", "#1ABC9C", "#E74C3C", "#3498DB", "#9B59B6","#F1C40F", "#2ECC71", "#16A085", "#D35400", "#C0392B","#7F8C8D", "#BDC3C7", "#8E44AD", "#27AE60", "#F39C12","#2980B9", "#C0392B", "#D35400", "#1ABC9C", "#9B59B6"),
HonestyHumility     = round(runif(30, 30, 95)),  # varied range per trait
Emotionality        = round(runif(30, 30, 90)),
Extroversion        = round(runif(30, 25, 95)),
Agreeableness       = round(runif(30, 40, 95)),
Conscientiousness   = round(runif(30, 35, 95)),
Openness            = round(runif(30, 40, 95)),
rankedQ_1 = sample(0:80, 30, replace = TRUE),
rsummedQ_1 = as.vector(rmultinom(n = 1, size = 100, prob = rep(1, 30)))
)
# Preview
sample_data<-dplyr::slice_sample(sample_data,n = 15) # Default (ideal) size
sample_data_5<-dplyr::slice_sample(sample_data,n = 5)
sample_data_15<-dplyr::slice_sample(sample_data,n = 15)
sample_data_20<-dplyr::slice_sample(sample_data,n = 20)
sample_data_25<-dplyr::slice_sample(sample_data,n = 25)
sample_data_30<-dplyr::slice_sample(sample_data,n = 30)
demo_paths <- c(
"ExamplePlots/demo_trait_1.jpg",
"ExamplePlots/demo_trait_2.jpg",
"ExamplePlots/demo_trait_3.jpg"
)
# --- Progress Demo (batch) ---
progress_demo <- TraitGraph:::tg_progress_bar(
total = length(demo_paths),
label = "Generating %d Demo Plots",
interval_secs = 0.5
)
for (i in seq_along(demo_paths)) {
TG_trait(
dataset = sample_data_20,
show_title = FALSE,
column_name = "Extroversion",
save_plot = TRUE,
show_plot = FALSE,
verbose = FALSE,
output_path = demo_paths[i]
)
progress_demo <- TraitGraph:::tg_progress_update(progress_demo)
}
TraitGraph:::tg_progress_done(progress_demo)
# --- 3. FUNCTION TESTING ---
# After running `devtools::load_all()`, you can run these calls to test.
# ~~~~~~~~~~~~~~~~~~~ #
# --- Trait Example   ####
# ~~~~~~~~~~~~~~~~~~~ #
TG_trait(
dataset = sample_data_20,
show_title = F,
column_name = "Extroversion",
random_seed = 12345,
save_plot = T,show_plot = T,
#color_opacity = .,
output_path = 'ExamplePlots/trait_graph_example.jpg'
)
# ~~~~~~~~~~~~~~~~~~~ #
# Achievements ####
# ~~~~~~~~~~~~~~~~~~~ #
ach_inputs <- file.path(proj_root, "achievement_inputs")
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
# TraitGraph Package - Development & Testing Script
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
# This script is for managing, rebuilding, and testing the TraitGraph package.
# It is not part of the package itself but a helper for the developer.
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
## --- 0. PACKAGES & PROJECT ROOT -------------------------------------------------
# install.packages(c("devtools","tidyverse","here","withr"), dep = TRUE)
suppressPackageStartupMessages({
library(devtools)
library(tidyverse)
library(here)
library(withr)
})
find_project_root <- function(start_dir = getwd()) {
dir <- normalizePath(start_dir, winslash = "/", mustWork = FALSE)
repeat {
rproj <- file.path(dir, "TraitGraph.Rproj")
desc <- file.path(dir, "DESCRIPTION")
if (file.exists(rproj)) return(dir)
if (file.exists(desc)) {
d1 <- readLines(desc, n = 1, warn = FALSE)
if (length(d1) == 1 && grepl("^Package: TraitGraph", d1)) return(dir)
}
parent <- dirname(dir)
if (parent == dir) break
dir <- parent
}
stop("Could not find TraitGraph project root from: ", start_dir)
}
# Ensure we're in the project (use the .Rproj or DESCRIPTION)
proj_root <- find_project_root()
setwd(proj_root)
message("Project root: ", proj_root)
# Output folder (centralized)
plots_dir <- file.path(proj_root, "ExamplePlots")
if (!dir.exists(plots_dir)) dir.create(plots_dir, recursive = TRUE)
## --- 1. WORKFLOW HELPERS --------------------------------------------------------
# --- Workflow A: Full Rebuild and Install ---
# Use this workflow occasionally, especially before pushing to GitHub, to ensure
# the complete package builds correctly from start to finish.
if ("TraitGraph" %in% rownames(installed.packages())) {
remove.packages("TraitGraph")
}
# in terminal you can delete cache using
# % rm -rf /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/TraitGraph
devtools::clean_dll()
devtools::document()
devtools::load_all()
devtools::install(upgrade = 'always')           # Build and install the package locally
library(TraitGraph)            # Load the newly installed package
# --- 2. CREATE SAMPLE DATA ---
# Create one master sample data frame for testing.
set.seed(42) # for reproducibility
# Generate the main sample data
sample_data <- tibble::tibble(
name = c(  "Alice Frank Longnamer", "Bob Steward", "Frank Bobby", "Eve Twingle", "Grace Hunter", "Heidi Probosky", "Charlie Kane", "David Turner Salvadora III", "Ivan Evans", "Judy Perch", "Karl Moritz", "Lana Perez", "Mason Lee", "Nina Hollis", "Oscar Grant", "Paula White", "Quinn Baxter", "Riley Chen", "Sara Diaz", "Theo Nguyen", "Uma Patel", "Victor Stone", "Willow Adams", "Xavier Brooks", "Yara Cohen", "Zane Foster", "Abby Kim", "Ben Torres", "Clara Wells", "Derek Young"),
favourite_color = c( "#FF6B6B", "#4ECDC4", "#45B7D1", "#F7B801", "#FAD390","#FF8C61", "#3D5A80", "#98C1D9", "#9B59B6", "#293241","#E67E22", "#1ABC9C", "#E74C3C", "#3498DB", "#9B59B6","#F1C40F", "#2ECC71", "#16A085", "#D35400", "#C0392B","#7F8C8D", "#BDC3C7", "#8E44AD", "#27AE60", "#F39C12","#2980B9", "#C0392B", "#D35400", "#1ABC9C", "#9B59B6"),
HonestyHumility     = round(runif(30, 30, 95)),  # varied range per trait
Emotionality        = round(runif(30, 30, 90)),
Extroversion        = round(runif(30, 25, 95)),
Agreeableness       = round(runif(30, 40, 95)),
Conscientiousness   = round(runif(30, 35, 95)),
Openness            = round(runif(30, 40, 95)),
rankedQ_1 = sample(0:80, 30, replace = TRUE),
rsummedQ_1 = as.vector(rmultinom(n = 1, size = 100, prob = rep(1, 30)))
)
# Preview
sample_data<-dplyr::slice_sample(sample_data,n = 15) # Default (ideal) size
sample_data_5<-dplyr::slice_sample(sample_data,n = 5)
sample_data_15<-dplyr::slice_sample(sample_data,n = 15)
sample_data_20<-dplyr::slice_sample(sample_data,n = 20)
sample_data_25<-dplyr::slice_sample(sample_data,n = 25)
sample_data_30<-dplyr::slice_sample(sample_data,n = 30)
demo_paths <- c(
"ExamplePlots/demo_trait_1.jpg",
"ExamplePlots/demo_trait_2.jpg",
"ExamplePlots/demo_trait_3.jpg"
)
# --- Progress Demo (batch) ---
progress_demo <- TraitGraph:::tg_progress_bar(
total = length(demo_paths),
label = "Generating %d Demo Plots",
interval_secs = 0.5
)
for (i in seq_along(demo_paths)) {
TG_trait(
dataset = sample_data_20,
show_title = FALSE,
column_name = "Extroversion",
save_plot = TRUE,
show_plot = FALSE,
verbose = FALSE,
output_path = demo_paths[i]
)
progress_demo <- TraitGraph:::tg_progress_update(progress_demo)
}
TraitGraph:::tg_progress_done(progress_demo)
# --- 3. FUNCTION TESTING ---
# After running `devtools::load_all()`, you can run these calls to test.
# ~~~~~~~~~~~~~~~~~~~ #
# --- Trait Example   ####
# ~~~~~~~~~~~~~~~~~~~ #
TG_trait(
dataset = sample_data_20,
show_title = F,
column_name = "Extroversion",
random_seed = 12345,
save_plot = T,show_plot = T,
#color_opacity = .,
output_path = 'ExamplePlots/trait_graph_example.jpg'
)
# ~~~~~~~~~~~~~~~~~~~ #
# Achievements ####
# ~~~~~~~~~~~~~~~~~~~ #
ach_inputs <- file.path(proj_root, "achievement_inputs")
ach_output <- file.path(proj_root, "ExamplePlots", "achievements_test")
if (!dir.exists(ach_output)) dir.create(ach_output, recursive = TRUE)
TG_achievements(
trait_map_path = file.path(ach_inputs, "trait_map.csv"),
vote_map_path = file.path(ach_inputs, "vote_map.csv"),
data_path = file.path(ach_inputs, "group_dataset.csv"),
achievements_path = file.path(ach_inputs, "achievements.csv"),
voting_data_path = file.path(ach_inputs, "voting_data.csv"),
output_dir = ach_output,
max_awards = 10,
write_qa = F
)
# ------------------------------------------------------------------------------
# Run Analysis
# ------------------------------------------------------------------------------
# Autopilot launcher for the three-step group reporting pipeline:
#   1) 01_clean_data.R
#   2) 02_generate_assets.R
#   3) 03_ai_insights.R
#   4) 04_generate.report.R
#
# Hard-coded values allow the pipeline to run without interactive input.
# Designed to run from the project root.
# ------------------------------------------------------------------------------
# -------------------
# 0. USER INPUT
# -------------------
# Group info
client_id   <- "sprickerhoff_test"      # Leave blank to auto-generate auto_####.
group_id    <- client_id        # Optional override; defaults to client_id.
group_name  <- client_id
# Process
selection_input <- "assets"  # "all", "clean", "assets", "ai", "ai_generator", "ai_eval", or combos like "clean, ai_generator".
date            <- Sys.time()
notes           <- ""                # Use "\n" for multi-line.
# Data source (pick one)
# A) Single token for both traits and voting:
token <- "e7f46f215c6dc8210f75476667ba1974"
# B) If you need different endpoints, override these instead (leave blank to skip):
trait_csv  <-   ""
voting_csv <- ""
# AI settings
ai_settings <- list(
provider = "gemini",               # "gemini", "openai"/"gpt"
models = list(
generator = "gemini-2.5-flash",
qa        = "gemini-2.5-flash",
fixer     = "gemini-2.5-flash"
),
max_parallel_jobs = 1  # set to 1 to avoid throttling
)
# --- Start Timer ---
start_overall_time <- proc.time()
cat("\n==================================================\n              0. PROCESS SETUP\n==================================================\n\n")
setup_path <- file.path("r_processes", "00_setup_env.R")
if (!file.exists(setup_path)) {
stop("Missing setup script: ", setup_path)
}
getwd()
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
# TraitGraph Package - Development & Testing Script
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
# This script is for managing, rebuilding, and testing the TraitGraph package.
# It is not part of the package itself but a helper for the developer.
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ #
## --- 0. PACKAGES & PROJECT ROOT -------------------------------------------------
# install.packages(c("devtools","tidyverse","here","withr"), dep = TRUE)
suppressPackageStartupMessages({
library(devtools)
library(tidyverse)
library(here)
library(withr)
})
find_project_root <- function(start_dir = getwd()) {
dir <- normalizePath(start_dir, winslash = "/", mustWork = FALSE)
repeat {
rproj <- file.path(dir, "TraitGraph.Rproj")
desc <- file.path(dir, "DESCRIPTION")
if (file.exists(rproj)) return(dir)
if (file.exists(desc)) {
d1 <- readLines(desc, n = 1, warn = FALSE)
if (length(d1) == 1 && grepl("^Package: TraitGraph", d1)) return(dir)
}
parent <- dirname(dir)
if (parent == dir) break
dir <- parent
}
stop("Could not find TraitGraph project root from: ", start_dir)
}
# Ensure we're in the project (use the .Rproj or DESCRIPTION)
proj_root <- find_project_root()
setwd(proj_root)
message("Project root: ", proj_root)
# Output folder (centralized)
plots_dir <- file.path(proj_root, "ExamplePlots")
if (!dir.exists(plots_dir)) dir.create(plots_dir, recursive = TRUE)
## --- 1. WORKFLOW HELPERS --------------------------------------------------------
# --- Workflow A: Full Rebuild and Install ---
# Use this workflow occasionally, especially before pushing to GitHub, to ensure
# the complete package builds correctly from start to finish.
if ("TraitGraph" %in% rownames(installed.packages())) {
remove.packages("TraitGraph")
}
# in terminal you can delete cache using
# % rm -rf /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/TraitGraph
devtools::clean_dll()
devtools::document()
devtools::load_all()
devtools::install(upgrade = 'always')           # Build and install the package locally
library(TraitGraph)            # Load the newly installed package
